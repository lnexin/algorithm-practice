package main

import (
	"fmt"
	"math"
)

func main() {
	fmt.Println(maxDifference2("114314001311021414104300302211123341300202434414142220244314042142240113321300014420004221401143031432202414401323030321323213111000200440234313413212441232202213232111312004121220433043112333033221131103202003420303103004102434200400024001311120203010300121104230202322342133023114034214143032032044314204203423332211232404012023332330444413040441003301212434034002243212040021104441301303300101422342100114441324234403040441330244401242140131200021242231011234214433341130400241010324121211224304321040012320013113114040143133413444204033320421123440213132031231023232334234122143431012342212132240012320112034331124031442034012042033324311440233414321101230444313222413020022421042112401420330044332124103334332244042013021012144103102414303032223203044043144321444124402411121103303332220113400043233110032212434432133024132403441200030111030323403143222110010423304132044423201030034424401034302014333022044430131023323420411311110212410330202112132002243101420442334431034222100412344240444004143013203020104430432310022421241421003010411444400233243144233010304014032001023304010024401310413233224210310241231201012242300212020240003430124320430110340120431214142321043330124332001201342100413340011233044424144222044342040201340033321210214144421430002313422410022222430011114423000044422333000134302032221310100321302342414343031342423342023244340214330342404423044233430340034233030033222403320043013001224020440020214334322344034202434130130303001403304433243300404222233334021120012414121424012440301230134433012102004204042142311102312144012133022004432014230313400412322042343131420240022130202014234223303113044413103003042201232320410443314324410344210213322023122420144204312121300141144323002031231010314312433101102444303232020022413043401314012133334124112231433322100324103114122310014330031230243022304210422334222324104212444011211441140224124433300330240232144201221344201221133013142434104234400442220141434230200431033013004031441011441323040242334211244004144200023122211420231021213304042222121123014131034304132303121334442233331200442422013104331421143240210214033444010241210404011320201041234420034234010214121313304324322243312132113303341202113020304124230411144233411122323332301110004310303211120044220210103210401443312311130232400240301024310014320001230223044230134213321004223311313210322131101122013211043230123430031304222134404401101301342104020012213040222244204321013211221434424204314434031200123201330133444302004411130214031214424412400233100343323323340132233423341011414010400011123002240302111132021321402010213110314314244241141412400210423411320402143244141302201231142432431113240434424311030222312010331311313314420444413321120002323323003422301100230041310404333134201033040320100003230444121134124304440421242204040414130134344130032424314342403220442142134241324342041301114113311233202244034334403342340302440344040444203023232323412100233140124234222013220210232010430213321331212410343242241313234320031003420424121313233444220304402130213042120313003401020232223001234104410401240314330314213111142402410231040210233404030202112340202424031024301030204341120213344114214124424303011020443243322113241010122113232322304301412240020431223102400014202324432040231102432242121023141230124431101202223411410200200413012203221411130434304300142111140233114422322202433312430340334233213112403031004032022410320214041021022203423301102233113002112430341123313242211222010214403300042120311113113034432443034314411320412400124404432343231314023122000422303012044304143214110101203343320310223222233021421243141300301304140344320013220003242112313022144130021202343044200422321214322234130420234344213333332043023303301204010012233104240442223230040214134223244410444430233021004232124332320324212212343021433000111334311233444020130023242310233004344043121124033242203024123031021101101101411431211421341002303104014042232004344130404430433020142034040213220434144102243134003132110102214220010320024012304224112214000410321334434323143044220003211423240402140424040004402414023430322441414124414403032443202331240220330134300400134204201424121224413224224320021101443040144424011220243014143134441031121221223102442001421342441230123004313120414340344002144130444040203311442443104341221210221413400224423424224012043121340413401432344323304040014233404202300002202021132400343214404442043211022032140114203141023334030340022134430341324330044321010033343300331040344313131432133323412413304342200300030013301103211110101232011040014434143041114334313144322121222114444111100144240041023101411313404124111430412043144330221424413043002143104403123430012241144422111200114121434123110112440341411341324323303323024001021220442443142231001001320042331301204233014033140123200030201443440433144310242200324243141101124040102023340204100120104301332003101101303241011010411300014234143043424314323312430243421203011312412210411410422202112111023314340040144433333401223403333124201104324233434022032031120141112422443314443342221342240313320414131113022423130300123014422322202112422312310220032111021423331303144101400424244434330000303232031312200111033231143021201421224341314323212104420233322040121431042032141010321331010032002403011122324332220024311120112030313022041104040212340313110422010204313002340343121330323402430312411224331043224220043401302111300344312230",
		1586))
}

func maxDifference2(s string, k int) int {

	max := 0
	// 子串是要求连续的
	// 获取子串是一个华东窗口的操作
RECUT:
	subCnt := len(s) - k + 1
	for i := 0; i < subCnt; i++ {
		sub := s[i : i+k]
		// 子串
		diff := calcDiff(sub)
		//if max < 0 {
		//	max = diff
		//}
		if diff == 0 {
			continue
		}
		if diff > max || max == 0 {

			max = diff
		}
		//fmt.Println(sub, diff, max)

	}
	if k <= len(s) {
		k++
		goto RECUT
	}
	return max
}

func calcDiff(s string) int {
	cnt := make([]int, 5)
	for _, c := range s {
		cnt[c-'0']++
	}

	a1 := 0
	a2 := 0
	for i := 0; i < 5; i++ {
		count := cnt[i]
		if count == 0 {
			continue
		}
		if count%2 == 1 {
			// 奇数 a1
			a1 = int(math.Max(float64(count), float64(a1)))
		} else {
			// 偶数个, 去最小的
			if a2 == 0 {
				a2 = count
			}
			if count < a2 {
				a2 = count
			}
		}
	}
	if a1 > 0 && a2 > 0 {
		return a1 - a2
	}
	return 0
}
